# 解决Telegram中文资源分享难题的Python爬虫项目

> GitHub 项目直达：[telegram-groups](https://github.com/alexbei/telegram-groups)

**背景**：使用 Telegram 的时候，为了能找到一些有意思的、好玩的、纯粹资源分享的群和频道，总是很困难，尽管有些网站推荐了不少的群/频道/机器人，但是往往其中很多都已经过期了，甚至很多都注销了，也有一些变成了涩涩群、机场群，一个一个筛选起来很麻烦，所以决定用 Python 爬虫来解决这一问题。



## 第一集：

**过程**：用时一天时间，收集整理了很多网站数据，建立 URL 集合，使用 Scrapy 总共从十几个地址，爬了总计 3534 条数据。所有的数据及 SQL 已经放到文件 `data.csv` 中，爬虫代码放在了 `telegram-groups-spider` 文件夹里面。有需要的同学可以自行取用。



**结果**：从 3534 个中，按照订阅数/会员数排序，并排除了其他语言的账号只选择做中文内容的账号，也排除了包含：机场、Sex、Gamble、Politics等内容，手工精选了 200 多个放在了下面的表格里，感兴趣的同学可以根据自己喜好选择加入。



**感悟**：从数据来看，其中有很多是早已注销的群/频道/机器人，也有不是是灰黑产业的账号或者挂羊头卖狗肉的账号。精选账号大概只占到总数的 **6%**，这个比例还是挺惊人的，中文的优质内容在 Telegram 还是相对匮乏，Telegram 在中文内容上更像是一个灰黑产的温床。虽然精选了 200 多个账号，但其中也有不少是羊毛，搬运，资源，影视，破解等内容，这些内容也是处于擦边球地带，真正优质的内容还会更少，当然这也限制与样本本身的质量，也许有不少好的账号还未被发现，也欢迎知道优质账号的同学能在 issue 留下它的链接。



## 第二集：

首先来看看一些有意思的数据：

- **v2ex**
  - 在帖子发出后的 24 小时内：共有 6232 次点击，206 人收藏，22 人感谢，被 4505 位注册会员查看过。其中 **收藏率 4.6%** ，**感谢占比 0.49%** ，还有 126 次来自 Google 的点击。
- **GitHub**
  - 在帖子发出后的 24 小时内：共收到 Star 552 个，Fork 51 个，有 7 人提交了 issue。平均**每小时 Star 23 个**



昨天发帖之后，发现样本还是太少，所以又重新收集了数据，在昨天数据的基础上，爬了一晚上，样本数来到了 **5000+** （这貌似是我能找到的极限了），基于更大的样本集，也重新产出了一些值得参考的新数据：



- **总样本数量：5205 个**
  - 其中正常账号 3036 个，异常账号 2169 个（主要是已注销账号），**异常账号占比：41.7%**，**正常账号占比：58%**
  
  - 频道数：1700，群组：1136，机器人：198。分别占比：32.7%，21.8%，0.38%
  - 频道订阅人数排名前 10 的没有一个中文账号，前 10 的账号订阅人数均超过了 100 万，**最高订阅人数 912 万**
  - 群组会员人数排名前 10 的 9 个都是中文账号，**最高会员人数 19 万**，最低 6 万
- 在过滤了 144 个关键字之后还**剩下 2209 个**账号，当然这其中依然有不少是需要筛选的（人麻了，筛了5个小时，实在筛不动了...），结果如下：
  - 资源分享类 352个，占比 15.9%
  - 机场、VPS类 103个，占比 4.7%
  - 影视类 108 个，占比 4.9%
  - 音乐类 56 个，占比 2.5%
  - 币圈类 39 个，占比 1.8%
  - 书类 67 个，占比 3%
  - 破解类 44 个，占比 2%
  - 羊毛、优惠类 53 个，占比 2.4%



### 总结：

本次总共从 **25 个 URL** 地址获得了 **5205 个样本集**，样本集本身已经做了去重处理，实际的数量应该有 10000+，重复的账号没有分析的意义，就直接过滤掉了没有入库。入库之后的数据进行了二次过滤（主要是人工过滤），过滤了Sex、Gamble、Politics、黑灰产、已注销、私人账号等，经过两轮筛选最终只剩下了 **2209** 个账号，占总数的：**42.4%** ，已经不到一半了，这还是粗筛，如果细筛那最终样本会更少。

从过滤之后的数据来看，貌似各个分类的占比都很少，其实不然，因为很多账号都是跨多个分类，并不是只专精一个分类。另一方面从关键字来筛选分类，并不是很准确，最准确的应该是点进每个账号里去看内容，但这样的话人工成本会很高。

假如按照程序员这个角色的用户画像来进行推荐的话，应该和昨天的 **6%** 差距不大，这也基本反应了现在 Telegram 中文生态的现状。这些数据还有其他的挖掘价值，用来做数据分析还是很不错的。


## 第三集：
经过一天的手工筛选，最终产生了 **445** 个优质账号（优质账号全部放在了Github的表格中），按照总样本 5205 计算，优质账号的比例为：**8.5%** ，相比之前的 6% 上升了 **2.5** 个百分点，从结果来看，随着样本数量的增长，优质账号的比例也在增长，二者成正比关系，同时筛选的难度也在增加，以后考虑用爬虫+深度学习来过滤，人工筛选费时费力。
